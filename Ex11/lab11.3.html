<html>

<head>
    <title>
        23BCE1624
    </title>
    <script>
        function exec(input) {
            id = input.id;
            if (!input.value) {
                document.getElementById(id).style.outlineColor = "red";
                document.getElementById(id).focus();
                document.getElementById(id + "1").innerHTML = ("Please enter your " + id + "!");
            }
            else {
                document.getElementById(id).style.outlineColor = "black";
                document.getElementById(id + "1").innerHTML = "";
            }
        }
        function calc() {
            flag = true;
            arr = document.getElementsByClassName("required");
            for (i = 0; i < arr.length; i++) {
                if (arr[i].name != "gender" && arr[i].name != "colors") {
                    id = arr[i].id;
                    if (id == "zip code") {
                        pattern1 = /^[1-9][0-9]{5}$/;
                        if (!pattern1.test((document.getElementById(id).value))) {
                            document.getElementById(id).style.outlineColor = "red";
                            document.getElementById(id).focus();
                            document.getElementById("zip code1").innerHTML = "Please enter correct pincode";
                            flag = false;
                            break;
                        }
                        else {
                            document.getElementById(id).style.outlineColor = "black";
                            document.getElementById(id + "1").innerHTML = "";
                        }
                    }
                    if (id == "phone number") {
                        if (isNaN(document.getElementById(id).value)) {
                            flag = false;
                            document.getElementById(id).style.outlineColor = "red";
                            document.getElementById(id).focus();
                            document.getElementById("phone number1").innerHTML = "Please enter correct phone number";
                            break;
                        }
                        else {
                            document.getElementById(id).style.outlineColor = "black";
                            document.getElementById(id + "1").innerHTML = "";
                        }
                    }
                    if (id == "mail") {
                        pattern2 = /^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;
                        if (!pattern2.test(document.getElementById(id).value)) {
                            flag = false;
                            document.getElementById(id).style.outlineColor = "red";
                            document.getElementById(id).focus();
                            document.getElementById(id + "1").innerHTML = "Please enter correct Mail ID";
                            break;
                        }
                        else {
                            document.getElementById(id).style.outlineColor = "black";
                            document.getElementById(id + "1").innerHTML = "";
                        }
                    }
                    if (id == "password") {
                        pass = document.getElementById(id).value;
                        if (!pass.match(/[0-9]/)) {
                            flag = false;
                            document.getElementById(id).style.outlineColor = "red";
                            document.getElementById(id).focus();
                            document.getElementById(id + "1").innerHTML = "Password should contain atleast 1 number";
                            break;
                        }
                        if (!pass.match(/[a-zA-Z]/)) {
                            flag = false;
                            document.getElementById(id).style.outlineColor = "red";
                            document.getElementById(id).focus();
                            document.getElementById(id + "1").innerHTML = "Password should contain atleast 1 character";
                            break;
                        }
                        if (!pass.match(/[!@#$%^&*]/)) {
                            flag = false;
                            document.getElementById(id).style.outlineColor = "red";
                            document.getElementById(id).focus();
                            document.getElementById(id + "1").innerHTML = "Password should contain atleast 1 special character";
                            break;
                        }
                        if (pass.length < 8) {
                            flag = false;
                            document.getElementById(id).style.outlineColor = "red";
                            document.getElementById(id).focus();
                            document.getElementById(id + "1").innerHTML = "Password should be atleast a length of 8";
                            break;
                        }
                        else {
                            document.getElementById(id).style.outlineColor = "black";
                            document.getElementById(id + "1").innerHTML = "";
                        }
                    }
                    if (id == "confirm password") {
                        if (document.getElementById("password").value === document.getElementById(id).value) {
                            document.getElementById(id).style.outlineColor = "black";
                            document.getElementById(id + "1").innerHTML = "";
                        }
                        else {
                            flag = false;
                            document.getElementById(id).style.outlineColor = "red";
                            document.getElementById(id).focus();
                            document.getElementById(id + "1").innerHTML = "Confirm Password does not match Password";
                            break;
                        }
                    }
                }
                if (arr[i].name == "gender") {
                    g = document.getElementsByName("gender");
                    if (g[0].checked || g[1].checked) {
                        document.getElementById("gender1").innerHTML = "";
                    }
                    else {
                        flag = false;
                        document.getElementById("gender1").innerHTML = "Please select your gender!";
                        break;
                    }
                }
                if (arr[i].name == "colors") {
                    c = document.getElementsByName("colors");
                    if (c[0].checked || c[1].checked || c[2].checked) {
                        document.getElementById("colors1").innerHTML = "";
                    }
                    else {
                        flag = false;
                        document.getElementById("colors1").innerHTML = "Please select a color";
                        break;
                    }
                }
            }
            if (document.getElementById("pan").value) {
                id = "pan";
                pattern3 = /[A-Z]{5}[0-9]{4}[A-Z]/;
                if (!pattern3.test(document.getElementById(id).value.toUpperCase())) {
                    flag = false;
                    document.getElementById(id).style.outlineColor = "red";
                    document.getElementById(id).focus();
                    document.getElementById(id + "1").innerHTML = "Please Enter correct Pan Number";
                }
                else {
                    document.getElementById(id).style.outlineColor = "black";
                    document.getElementById(id + "1").innerHTML = "";
                }
            }
            if (flag) {
                alert("Form submitted");
                print();
            }
        }
        function reset() {
            document.getElementById("F1").reset();
            document.getElementById("name").focus();
        }
    </script>
    <style>
        font {
            color: red;
        }
    </style>
</head>

<body style="font-size: larger;">
    <form id="F1">
        <fieldset>
            <table border="0" cellspacing="1" cellpadding="1">
                <tr>
                    <td colspan="2">
                        <h1>
                            Test JavaScript Form Validation
                        </h1>
                    </td>
                    <td></td>
                    <td></td>
                    <td>
                        <input id="time" type="text" size="10" readonly>
                    </td>
                </tr>
                <tr>
                    <td>
                        Name<font>*</font>
                    </td>
                    <td>
                        <input type="text" id="name" maxlength="15" class="required" onblur="exec(this)">
                    </td>
                    <td>
                        <font id="name1">&nbsp;</font>
                    </td>
                </tr>
                <tr>
                    <td>
                        Address
                    </td>
                    <td>
                        <input type="text" id="address">
                    </td>
                </tr>
                <tr>
                    <td>
                        Zip Code<font>*</font>
                    </td>
                    <td>
                        <input type="text" id="zip code" pattern="[0-9]{6}" maxlength="6" class="required"
                            onblur="exec(this)">
                    </td>
                    <td>
                        <font id="zip code1">&nbsp;</font>
                    </td>
                </tr>
                <tr>
                    <td>
                        Country<font>*</font>
                    </td>
                    <td>
                        <select id="country" class="required" onblur="exec(this)">
                            <option value="">Please select...</option>
                            <option value="India">India</option>
                            <option value="Singapore">Singapore</option>
                            <option value="China">China</option>
                            <option value="UK">UK</option>
                        </select>
                    </td>
                    <td>
                        <font id="cts">&nbsp;</font>
                    </td>
                </tr>
                <tr>
                    <td>
                        Gender<font>*</font>
                    </td>
                    <td>
                        <input type="radio" name="gender" value="Male" id="male" class="required">Male
                        <input type="radio" name="gender" value="Female" id="female" class="required">Female
                    </td>
                    <td>
                        <font id="gender1"></font>
                    </td>
                    <td>
                        Pan No:
                    </td>
                    <td>
                        <input type="text" maxlength="10" id="pan" size="10" pattern="[A-Z]{5}[0-9]{4}[A-Z]"
                            style="text-transform: uppercase;">
                    </td>
                    <td>
                        <font id="pan1"></font>
                    </td>
                </tr>
                <tr>
                    <td>
                        Preferences<font>*</font>
                    </td>
                    <td>
                        <input type="checkbox" id="red" name="colors" value="Red" class="required">Red
                        <input type="checkbox" id="green" name="colors" value="Green" class="required">Green
                        <input type="checkbox" id="blue" name="colors" value="Blue" class="required">Blue
                    </td>
                    <td>
                        <font id="colors1"></font>
                    </td>
                </tr>
                <tr>
                    <td>
                        Phone<font>*</font>
                    </td>
                    <td>
                        <input type="tel" id="phone number" pattern="[0-9]{1,10}" maxlength="10" class="required"
                            onblur="exec(this)">
                    </td>
                    <td>
                        <font id="phone number1">&nbsp;</font>
                    </td>
                </tr>
                <tr>
                    <td>
                        Email<font>*</font>
                    </td>
                    <td>
                        <input type="email" id="mail" class="required" onblur="exec(this)">
                    </td>
                    <td>
                        <font id="mail1">&nbsp;</font>
                    </td>
                </tr>
                <tr>
                    <td>
                        Password(6-8 characters)<font>*</font>
                    </td>
                    <td>
                        <input type="text" id="password" maxlength="15" class="required" onblur="exec(this)">
                    </td>
                    <td>
                        <font id="password1">&nbsp;</font>
                    </td>
                </tr>
                <tr>
                    <td>
                        Verify password<font>*</font>
                    </td>
                    <td>
                        <input type="text" id="confirm password" maxlength="15" class="required" onblur="exec(this)">
                    </td>
                    <td>
                        <font id="confirm password1">&nbsp;</font>
                    </td>
                </tr>
                <tr>
                    <td></td>
                    <td>
                        <input type="button" value="SEND" onclick="calc()">
                        <input type="button" value="CLEAR" onclick="reset()">
                    </td>
                </tr>
            </table>
        </fieldset>
        <div id="disp"></div>
    </form>
    <script>
        function timer() {
            current = new Date();
            document.getElementById("time").value = "Time: " + addZero(current.getHours()) + ":" + addZero(current.getMinutes()) + ":" + addZero(current.getSeconds());
        }
        function addZero(t) {
            if (t < 10) {
                return "0" + t;
            }
            return t;
        }
        setInterval(timer, 1000);
        function print() {
            let p = window.open();
            let output = "<h1>Print Details</h1><table border='0'>";
            output += "<tr><td><b>Name:</b></td><td>" + document.getElementById("name").value + "</td></tr>";
            output += "<tr><td><b>Address:</b></td><td>" + (document.getElementById("address").value || "N/A") + "</td></tr>";
            output += "<tr><td><b>Zip Code:</b></td><td>" + document.getElementById("zip code").value + "</td></tr>";
            output += "<tr><td><b>Country:</b></td><td>" + document.getElementById("country").value + "</td></tr>";

            gen = document.getElementsByName("gender");
            for (i = 0; i < gen.length; i++) {
                if (gen[i].checked) {
                    output += "<tr><td><b>Gender:</td><td>" + gen[i].value + "</td></tr>";
                }
            }

            output += "<tr><td><b>Preferences:</b></td><td><ul>";
            col = document.getElementsByName("colors");
            for (i = 0; i < col.length; i++) {
                if (col[i].checked) {
                    output += "<li>" + col[i].value + "</li>";
                }
            }
            output += "</ul></td></tr>";

            output += "<tr><td><b>Phone:</td><td></b>" + document.getElementById("phone number").value + "</td></tr>";
            output += "<tr><td><b>Email:</td><td></b>" + document.getElementById("mail").value + "</td></tr>";
            output += "<tr><td><b>Password:</td><td></b>" + document.getElementById("password").value + "</td></tr>";
            output += "<tr><td><b>Pan No:</td><td></b>" + (document.getElementById("pan").value || "N/A") + "</td></tr>";
            output += "</table>";
            p.document.write(output);
            reset();
        }
    </script>
</body>

</html>
